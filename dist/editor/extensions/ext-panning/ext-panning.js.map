{"version":3,"file":"ext-panning.js","sources":["../../../../src/editor/extensions/ext-panning/ext-panning.js","../../../../src/editor/extensions/ext-panning/locale/en.js","../../../../src/editor/extensions/ext-panning/locale/zh-CN.js"],"sourcesContent":["/**\r\n * @file ext-panning.js\r\n *\r\n * @license MIT\r\n *\r\n * @copyright 2013 Luis Aguirre\r\n *\r\n */\r\n/*\r\n  This is a very basic SVG-Edit extension to let tablet/mobile devices pan without problem\r\n*/\r\n\r\nconst name = 'panning'\r\n\r\nconst loadExtensionTranslation = async function (svgEditor) {\r\n  let translationModule\r\n  const lang = svgEditor.configObj.pref('lang')\r\n  try {\r\n    translationModule = await import(`./locale/${lang}.js`)\r\n  } catch (_error) {\r\n    console.warn(`Missing translation (${lang}) for ${name} - using 'en'`)\r\n    translationModule = await import('./locale/en.js')\r\n  }\r\n  svgEditor.i18next.addResourceBundle(lang, name, translationModule.default)\r\n}\r\n\r\nexport default {\r\n  name,\r\n  async init () {\r\n    const svgEditor = this\r\n    await loadExtensionTranslation(svgEditor)\r\n    const {\r\n      svgCanvas\r\n    } = svgEditor\r\n    const { $id, $click } = svgCanvas\r\n    const insertAfter = (referenceNode, newNode) => {\r\n      referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling)\r\n    }\r\n    return {\r\n      name: svgEditor.i18next.t(`${name}:name`),\r\n      callback () {\r\n        const btitle = `${name}:buttons.0.title`\r\n        // Add the button and its handler(s)\r\n        const buttonTemplate = document.createElement('template')\r\n        buttonTemplate.innerHTML = `\r\n        <se-button id=\"ext-panning\" title=\"${btitle}\" src=\"panning.svg\"></se-button>\r\n        `\r\n        insertAfter($id('tool_zoom'), buttonTemplate.content.cloneNode(true))\r\n        $click($id('ext-panning'), () => {\r\n          if (this.leftPanel.updateLeftPanel('ext-panning')) {\r\n            svgCanvas.setMode('ext-panning')\r\n          }\r\n        })\r\n      },\r\n      mouseDown () {\r\n        if (svgCanvas.getMode() === 'ext-panning') {\r\n          svgEditor.setPanning(true)\r\n          return {\r\n            started: true\r\n          }\r\n        }\r\n        return undefined\r\n      },\r\n      mouseUp () {\r\n        if (svgCanvas.getMode() === 'ext-panning') {\r\n          svgEditor.setPanning(false)\r\n          return {\r\n            keep: false,\r\n            element: null\r\n          }\r\n        }\r\n        return undefined\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  name: 'Extension Panning',\r\n  buttons: [\r\n    {\r\n      title: 'Panning'\r\n    }\r\n  ]\r\n}\r\n","export default {\r\n  name: '移动',\r\n  buttons: [\r\n    {\r\n      title: '移动'\r\n    }\r\n  ]\r\n}\r\n"],"names":["name","loadExtensionTranslation","async","svgEditor","translationModule","lang","configObj","pref","__variableDynamicImportRuntime0__","_error","console","warn","Promise","i18next","addResourceBundle","default","this","svgCanvas","$id","$click","t","callback","btitle","buttonTemplate","document","createElement","referenceNode","newNode","innerHTML","content","cloneNode","parentNode","insertBefore","nextSibling","leftPanel","updateLeftPanel","setMode","mouseDown","getMode","setPanning","started","mouseUp","keep","element","buttons","title"],"mappings":";;;;;;;;AAYA,MAAMA,EAAO,UAEPC,yBAA2BC,eAAgBC,OAC3CC,QACEC,EAAOF,EAAUG,UAAUC,KAAK,YAEpCH,oYAA0BI,oBAAmBH,UAC7C,MAAOI,GACPC,QAAQC,oCAA6BN,mBAAaL,oBAClDI,QAA0BQ,+CAE5BT,EAAUU,QAAQC,kBAAkBT,EAAML,EAAMI,EAAkBW,UAGpE,MAAe,CACbf,KAAAA,qBAEQG,EAAYa,WACZf,yBAAyBE,SACzBc,UACJA,GACEd,GACEe,IAAEA,EAAFC,OAAOA,GAAWF,QAIjB,CACLjB,KAAMG,EAAUU,QAAQO,YAAKpB,YAC7BqB,iBACQC,YAAYtB,sBAEZuB,EAAiBC,SAASC,cAAc,YAR9B,IAACC,EAAeC,EAShCJ,EAAeK,iEACsBN,gDAVpBI,EAYLR,EAAI,aAZgBS,EAYFJ,EAAeM,QAAQC,WAAU,GAXjEJ,EAAcK,WAAWC,aAAaL,EAASD,EAAcO,aAY3Dd,EAAOD,EAAI,gBAAgB,KACrBF,KAAKkB,UAAUC,gBAAgB,gBACjClB,EAAUmB,QAAQ,mBAIxBC,eAC8B,gBAAxBpB,EAAUqB,iBACZnC,EAAUoC,YAAW,GACd,CACLC,SAAS,IAKfC,aAC8B,gBAAxBxB,EAAUqB,iBACZnC,EAAUoC,YAAW,GACd,CACLG,MAAM,EACNC,QAAS,kDCpEN,CACb3C,KAAM,oBACN4C,QAAS,CACP,CACEC,MAAO,uDCJE,CACb7C,KAAM,KACN4C,QAAS,CACP,CACEC,MAAO"}